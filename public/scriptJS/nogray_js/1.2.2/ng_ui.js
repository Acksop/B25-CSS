// File: /home/nograyco/public_html/new/templates/nogray/js/ng/1.2.2/ng_ui/001_ProgressBar.js
/*
 * NoGray JavaScript Library
 *
 * Copyright (c), All right reserved
 * Gazing Design - http://www.NoGray.com
 * http://www.nogray.com/license.php
 */

ng.ProgressBar=function(a){this.p=this.create_options(a,{css_prefix:"ng_progress_",style:"bar",bg_color:null,text_color:null,value:null,hide:false,overlap:null,overlap_style:null,body_overlay:false,complete_text:null,complete_class:"",indeterminate_text:null,hide_text:false});this.create_events();this.make_id("progress");if((ng.browser.ie)&&(ng.browser.get_ie_version()<9)){this.p.style="bar"}if(!ng.defined(this.p.complete_text)){this.set_complete_text(ng.Language.t("complete",this.p.language))}if(!ng.defined(this.p.indeterminate_text)){this.set_indeterminate_text(ng.Language.t("loading",this.p.language))}this.p.indeterminate_timer=0;this.p.indeterminate_left=0;if(ng.defined(this.p.object)){this.render(this.p.object)}};ng.ProgressBar.inherit(ng.PlugIn);ng.extend_proto(ng.ProgressBar,{has_type:"progressbar",make:function(b,c){if(!ng.defined(b)){b=ng.get(document.body)}else{b=ng.get(b)}if(!ng.defined(c)){c="bottom"}var a=ng.create("div");b.append_element(a,c);return this.render(a)},render:function(e){if(ng.defined(e)){this.set_object(e)}var e=this.get_object();if(e.get("tag")=="progress"){var d=ng.create("div",{html:e.innerHTML});this.set_object(d);e.replace(d);e=d}var a=ng.Language.get_dir(this.get_language());if(this.p.style=="radial"){e.dir="ltr"}else{e.dir=a}e.add_class(a);var f=e.innerHTML.to_int();var c=this.p.css_prefix;e.add_class(c+"container").add_class(c+this.p.style);if(this.p.style=="radial"){var b=['<svg class="svg_parent" version="1.1" xmlns="http://www.w3.org/2000/svg">'];b.push('<defs><clipPath id="'+this.id+'_over_clip">');b.push('<path id="'+this.id+'_over_clip_path" d="M 0 0"/></clipPath></defs>');b.push('<circle cx="50%" cy="50%" r="50%" id="'+this.id+'_under_div" class="'+c+'under" />');b.push('<path id="'+this.id+'_over_div" class="'+c+'over" d="M 0 0" />');b.push('<path class="'+c+'indeterminate" style="display:none;" id="'+this.id+'_indeterminate_div" d="M 0 0" />');b.push('<text class="'+c+"text "+c+'under_text" id="'+this.id+'_under_text"></text>');b.push('<text class="'+c+"text "+c+'over_text" id="'+this.id+'_over_text" ');b.push('style="clip-path:url(#'+this.id+'_over_clip);"></text>');b.push('<text class="'+c+"text "+c+'indeterminate_text" id="'+this.id+'_indeterminate_text" style="display:none;">'+this.get_indeterminate_text()+"</text>");b.push("</svg>")}else{var b=['<div class="'+c+'under" id="'+this.id+'_under_div">'];b.push('<div class="'+c+"text "+c+'under_text" id="'+this.id+'_under_text">&nbsp;</div></div>');b.push('<div class="'+c+'over" style="width:0px;" id="'+this.id+'_over_div">');b.push('<div class="'+c+"text "+c+'over_text" id="'+this.id+'_over_text">&nbsp;</div></div>');b.push('<div class="'+c+'indeterminate" style="display:none;" id="'+this.id+'_indeterminate_div">');b.push('<div class="'+c+"text "+c+'indeterminate_text" id="'+this.id+'_indeterminate_text">'+this.get_indeterminate_text()+"</div></div>")}e.set_html(b);this.p.under_div=ng.get(this.id+"_under_div");this.p.over_div=ng.get(this.id+"_over_div");this.p.over_text=ng.get(this.id+"_over_text");this.p.under_text=ng.get(this.id+"_under_text");this.p.indeterminate_text=ng.get(this.id+"_indeterminate_text");this.p.indeterminate_div=ng.get(this.id+"_indeterminate_div");this.set_hide_text(this.p.hide_text);this.set_color(this.p.bg_color,this.p.text_color);if(this.p.hide){this.hide()}if(this.p.style=="radial"){this.p.text_clip_path=ng.get(this.id+"_over_clip_path")}else{this.p.over_text.set_style("right","auto")}if((!ng.defined(this.p.value))&&(!isNaN(f))){this.set_value(f)}else{this.set_value(this.p.value)}ng.get(window).add_event("resize",function(){this.resize.defer(this)}.bind(this));if(ng.defined(this.p.overlap)){this.overlap()}return this},hide:function(){this.get_object().set_style("display","none");if(ng.defined(this.p.body_overlap)){this.p.body_overlap.set_style("display","none")}this.p.hide=true;clearInterval(this.p.indeterminate_timer);this.p.indeterminate_timer=0;this.fire_event("hide");return this},show:function(){this.get_object().set_style("display","");if((ng.defined(this.p.overlap))&&(this.p.body_overlay)&&(this.p.overlap.get("tag")=="body")){if(ng.defined(this.p.body_overlap)){this.p.body_overlap.set_style("display","block")}}this.p.hide=false;this.fire_event("show");return this.set_value(this.get_value())},is_hidden:function(){return this.p.hide},overlap:function(f,d){if(!ng.defined(f)){f=this.p.overlap}if(!ng.defined(f)){return this}if(f.is_ng_plugin){f=f.get_object()}f=ng.get(f);if(f.get_style("position")=="static"){f.set_style("position","relative")}var e=this.get_object();e.set_style("position","absolute");if(!ng.defined(d)){d=this.p.overlap_style}if(!ng.defined(d)){d={}}var a=f.get_width();var c=f.get_height();if(a>window.screen.availWidth){a=window.screen.availWidth}if(c>window.screen.availHeight){c=window.screen.availHeight}if(this.p.style=="radial"){a=c=Math.min(a,c)}var b=ng.obj_merge({top:0,left:0,right:0,bottom:0,width:a,height:c,margin:"",zIndex:"1000000"},d);if(f.get("tag")=="body"){if(!ng.defined(this.p.body_overlap)){this.p.body_overlap=ng.create("div",{className:this.p.css_prefix+"body_overlap",html:"&nbsp;"});document.body.appendChild(this.p.body_overlap)}e.add_class(this.p.css_prefix+"body");f.append_element(e);e.set_style("position","fixed");if(this.p.style=="radial"){b.width=a*0.4;b.height=c*0.4;b.left=0}b.top=0;if(e.get_style("position")!="fixed"){if(!ng.defined(this.p.add_scroll_event)){ng.get(window).add_event("scroll",function(){this.overlap()}.bind(this));this.p.add_scroll_event=true}b.top+=Math.max(document.body.scrollTop,document.documentElement.scrollTop);b.left+=Math.max(document.body.scrollLeft,document.documentElement.scrollLeft);if(this.p.style=="radial"){b.margin="0px auto";b.top+=c/6}}}else{if(!f.contains(e)){f.append_element(e)}}e.set_styles(b);this.p.overlap=f;this.p.overlap_style=d;if(this.p.style=="radial"){this.resize_radial()}return this},resize:function(){if(this.is_hidden()){return}if(ng.defined(this.p.overlap)){this.overlap()}if(this.p.style=="radial"){this.resize_radial()}if((!this.p.hide_text)&&(this.p.style!="radial")){if(ng.Language.get_dir(this.get_language())=="rtl"){var b=this.p.under_text.get_position();var a=this.p.under_div.get_position();this.p.over_text.set_style("right",a.right-b.right)}else{this.p.over_text.set_style("left",this.p.under_text.offsetLeft)}}this.fire_event("resize");return this},resize_radial:function(){if(this.is_hidden()){return}var k=this.get_value();this.p.under_div.setAttribute("r",(50-(this.p.under_div.get_style("stroke-width").to_int()/2))+"%");var j=this.p.under_div.getBBox();var g=j.width/2;var e=j.height/2;var a=g;clearInterval(this.p.indeterminate_timer);if(k!=-1){if(!this.p.hide_text){var h=this.p.under_text.getBBox();this.p.under_text.setAttribute("x",((j.width-h.width)/2)+j.x);this.p.under_text.setAttribute("y",((j.height)/2)+j.y);this.p.over_text.setAttribute("x",((j.width-h.width)/2)+j.x);this.p.over_text.setAttribute("y",((j.height)/2)+j.y)}var i=0;if(k>50){i=1}if(k==100){k=99.99}var n=Math.PI/-2;var d=((Math.PI*2)*(k/100))+n;var c=g+a*Math.cos(n)+j.x;var m=e+a*Math.sin(n)+j.y;var b=g+a*Math.cos(d)+j.x;var l=e+a*Math.sin(d)+j.y;this.p.over_div.setAttribute("d","M "+c+" "+m+" A "+g+" "+e+" 0 "+i+" 1 "+b+" "+l);this.p.text_clip_path.setAttribute("d","M "+c+" "+m+" A "+g+" "+e+" 0 "+i+" 1 "+b+" "+l+" L "+g+" "+e+" Z")}else{if(!this.p.hide_text){var h=this.p.indeterminate_text.getBBox();this.p.indeterminate_text.setAttribute("x",((j.width-h.width)/2)+j.x);this.p.indeterminate_text.setAttribute("y",((j.height)/2)+j.y)}var f=function(){var t=[];for(var r=0;r<20;r++){if(r%2){var v=((r*18)+this.p.indeterminate_left)*(Math.PI/180);var u=(((r+1)*18)+this.p.indeterminate_left)*(Math.PI/180);var p=g+a*Math.cos(v)+j.x;var s=e+a*Math.sin(v)+j.y;var o=g+a*Math.cos(u)+j.x;var q=e+a*Math.sin(u)+j.y;t.push("M "+p+" "+s+" A "+g+" "+e+" 0 0 1 "+o+" "+q)}}this.p.indeterminate_div.setAttribute("d",t.join(" "));this.p.indeterminate_left+=2}.bind(this);f();this.p.indeterminate_timer=(f.repeat(40))}return this},set_value:function(d){if(!ng.defined(d)){d=""}d=d.to_int();if((isNaN(d))||(d<0)){d=null;this.p.indeterminate_div.set_style("display","block");if(this.p.style=="radial"){this.p.indeterminate_text.set_style("display","");this.p.under_text.set_style("display","none");this.p.over_text.set_style("display","none");this.p.over_div.set_style("display","none")}else{this.p.over_div.set_style("display","");this.p.over_div.set_style("width",0);if(this.p.indeterminate_timer==0){this.p.indeterminate_timer=(function(){var e=1;if(ng.Language.get_dir(this.get_language())=="rtl"){e=-1}this.p.indeterminate_div.set_style("background-position",(this.p.indeterminate_left*e)+"px center");this.p.indeterminate_left+=2}.repeat(40,this))}}}else{if(d>100){d=100}this.p.indeterminate_div.set_style("display","none");this.p.over_div.set_style("display","");if(this.p.style!="radial"){this.p.over_div.set_style("width",d+"%")}clearInterval(this.p.indeterminate_timer);this.p.indeterminate_timer=0;this.p.indeterminate_left=0;var c=this.get_object();var b=this.get_complete_class();if(d==100){var a=this.get_complete_text();if(b!=""){c.add_class(b)}}else{var a=ng.Language.translate_numbers(d,this.get_language());if((this.p.style=="radial")&&(ng.Language.get_dir(this.get_language())=="rtl")){a="%"+a}else{a+="%"}if(b!=""){c.remove_class(b)}}if(this.p.style=="radial"){this.p.indeterminate_text.set_style("display","none");this.p.under_text.set_style("display","");this.p.over_text.set_style("display","");this.p.over_text.textContent=this.p.under_text.textContent=a}else{this.p.over_text.innerHTML=this.p.under_text.innerHTML=a}}this.p.value=d;this.resize();this.fire_event("change");return this},get_value:function(){var a=this.p.value;if(!ng.defined(a)){return -1}if(a>100){return 100}if(a<0){return -1}return a},set_indeterminate_text:function(a){this.p.indeterminate_text=a;return this},get_indeterminate_text:function(){return this.p.indeterminate_text},set_complete_text:function(a){this.p.complete_text=a;return this},get_complete_text:function(){return this.p.complete_text},set_complete_class:function(a){var b=this.get_object();if(this.p.complete_class!=""){if(b.has_class(this.p.complete_class)){b.remove_class(this.p.complete_class)}}this.p.complete_class=a;if((a!="")&&(this.get_value()==100)){b.add_class(a)}return this},get_complete_class:function(){return this.p.complete_class},set_hide_text:function(a){var c=this.get_object();var b=this.p.css_prefix;if(a){c.add_class(b+"hide_text")}else{c.remove_class(b+"hide_text")}this.p.hide_text=a;return this},get_hide_text:function(){return this.p.hide_text},set_color:function(b,a){return this.set_bg_color(b).set_text_color(a)},set_bg_color:function(a){this.p.bg_color=a;if(!ng.defined(a)){a=""}if(this.p.style=="radial"){var b="stroke"}else{var b="background-color"}this.p.over_div.set_style(b,a);this.p.indeterminate_div.set_style(b,a);return this},get_bg_color:function(){return this.p.bg_color},set_text_color:function(a){this.p.text_color=a;if(!ng.defined(a)){a=""}if(this.p.style=="radial"){this.p.over_text.set_style("fill",a);this.p.indeterminate_text.set_style("color",a)}else{this.p.over_div.set_style("color",a);this.p.indeterminate_div.set_style("color",a)}return this},get_text_color:function(){return this.p.text_color},set_body_overlay:function(b){this.p.body_overlay=b;if((!this.is_hidden())&&(ng.defined(this.p.overlap))&&(ng.defined(this.p.body_overlap))&&(this.p.overlap.get("tag")=="body")){if(b){var a="block"}else{var a="none"}this.p.body_overlap.set_style("display",a)}return this},get_body_overlay:function(){return this.p.body_overlay},toString:function(){var b=this.get_value();if(b==100){return this.get_complete_text()}else{if(b>-1){var a=ng.Language.translate_numbers(b,this.get_language());if(ng.Language.get_dir(this.get_language())=="rtl"){return"%"+a}else{return a+"%"}}}return this.get_indeterminate_text()},valueOf:function(){var a=this.get_value();if(a<0){return NaN}return a}});ng.map_html5_prop("progress",{position:function(a){return{value:a*100}}});if(ng.defined(ng.UI)){ng.UI.add_to_ini("ng-progressbar",function(a){ng.UI.common_ini(a,ng.ProgressBar)})}ng.Accordion=function(a){this.p=this.create_options(a,{css_prefix:"ng_accordion_",max_height:"auto",position:"after",active_tab:0,keep_open:false,multi_open:false,content_type:null,content_preopen:null,content_preclose:null,content_resize:null,ajax_process:null,ajax_failed:"Something Went Wrong..."});this.create_events();this.set_max_height(this.p.max_height);this.p.current_tab=this.p.active_tab;this.p.position=this.p.position.toString().toLowerCase();this.make_id("accordion");this.p.loading_arr={};if(ng.defined(this.p.object)){this.render(this.p.object)}};ng.Accordion.inherit(ng.PlugIn);ng.extend_proto(ng.Accordion,{has_type:"accordion",render:function(d){if(!ng.defined(d)){var d=this.get_object()}var j=d;var g=this.p.css_prefix;this.set_object(ng.create("div",{className:g+"container "+g+this.p.position,"data-ng_skip":"1"}));d=this.get_object();j.append_element(d,"before");var h=0;var f=j.get_children("a");var a=[];for(var e=0;e<f.length;e++){lnk=ng.get(f[e]);d.append_element(lnk);var k=this.get_content_type_element(lnk);var c=this.make_button_from_link(lnk,k);var l=c.get_object();if(this.p.position=="after"){l.append_element(k,"after")}else{if(this.p.position=="before"){l.append_element(k,"before")}else{a.push(k)}}if(h==this.p.active_tab){(function(i){this.open_tab(i)}.defer(this,[h]))}h++}var b="top";if(this.p.position=="bottom"){a.reverse();b="bottom"}for(var e=a.length-1;e>=0;e--){d.append_element(a[e],b)}j.remove_element();ng.get(window).add_event("resize",function(){this.resize()}.bind(this));ng.get(window).add_event("load",function(){this.resize()}.bind(this));return this},get_content_type_element:function(h,c){var b=this.p.css_prefix;if(!ng.defined(c)){c=""}if(ng.type(h)=="button"){var f=h.p.content_type;var a=h.get_link()}else{var f=h.getAttribute("data-content_type");var a=h.getAttribute("href")}var e=false;if((!ng.defined(f))||(f=="")){e=true}if(ng.defined(this.p.content_type)){if(!ng.defined(this.p.content_type[f])){e=true}}else{if(!ng.defined(this["content_"+f])){e=true}}if(e){if((a=="")||(!ng.defined(a))){f=""}else{var d=a.substr(a.length-4).toLowerCase();if(a.substr(0,1)=="#"){f="hash"}else{if((a.indexOf("youtu.be")!=-1)||(a.indexOf("youtube.com")!=-1)){f="youtube"}else{if(a.indexOf("vimeo.com")!=-1){f="vimeo"}else{if((d==".jpg")||(d==".gif")||(d==".png")){f="image"}else{if(a.indexOf("ngajax")!=-1){f="ajax"}else{f="iframe"}}}}}}}if(f==""){var g=c}else{if((ng.defined(this.p.content_type))&&(ng.defined(this.p.content_type[f]))){var g=this.p.content_type[f].apply(this,[a])}else{if(ng.defined(this["content_"+f])){var g=this["content_"+f](a)}else{var g=this.content_iframe(a)}}}if(ng.type(g)=="string"){g=ng.create("div",{innerHTML:g})}g.add_class(b+"content");g.setAttribute("data-ng_content_type",f);g.add_class(b+"closed");if((!ng.defined(g.id))||(g.id=="")){g.id=ng.random_id("ng_accordian_"+f)}return g},make_button_from_link:function(e,d){var c=this.p.css_prefix;if(ng.type(e)!="button"){e=ng.get(e);var a=e.getAttribute("data-ui_class");if(!ng.defined(a)){a=""}if(a!=""){a+=" "}e.setAttribute("data-ui_class",a+c+"link");e.setAttribute("data-stop_default","1");var b=new ng.Button(e)}b.p.accordian_content=d.id;b.add_event("click",function(g,k){var f=this.get_object().get_children_by_class_name(c+"link","span");var j=0;for(j=0;j<f.length;j++){var h=f[j].get_plugin();if(h.p.accordian_content==k.p.accordian_content){break}}this.toggle_tab(j);g.stop_default()}.bind(this,[b]));return b},add_tab:function(i,b,c){if(!ng.defined(i)){i="bottom"}if(i=="top"){i=0}var d=this.p.position;var f=this.get_num_tabs();var j="before";if(i=="bottom"){j="after";i=f-1}if(i>=f){i=f-1}if(i<0){i=0}if(d=="after"){var a=this.tab_from_number(i);j="after"}else{var a=this.button_from_number(i).get_object()}var h=ng.type(b);if(h=="string"){var e=ng.create("a",{innerHTML:b})}else{var e=b}var g=this.get_content_type_element(e,c);a.append_element(e,j);var b=this.make_button_from_link(e,g);var k=b.get_object();if(d=="after"){k.append_element(g,"after")}else{if(d=="before"){k.append_element(g,"before")}else{this.tab_from_number(i).append_element(g,j)}}if((this.p.current_tab!=-1)&&(i<this.p.current_tab)){this.p.current_tab++}return this},remove_tab:function(a){a=this.correct_num(a);this.tab_from_number(a).remove_element();this.button_from_number(a).remove();if((this.p.current_tab!=-1)&&(a<this.p.current_tab)){this.p.current_tab--}if(a==this.p.current_tab){this.p.current_tab=-1;this.open_tab(a)}return this},content_hash:function(a){var b=ng.create("div");b.append_element(ng.get(a.substr(1)));return b},content_iframe:function(a){var b=ng.create("div");b.setAttribute("data-ng_accordian_href",a);return b},content_image:function(a){var b=ng.create("div");b.setAttribute("data-ng_accordian_href",a);return b},content_youtube:function(a){var b=ng.create("div");b.setAttribute("data-ng_accordian_href",a);return b},content_vimeo:function(a){var b=ng.create("div");b.setAttribute("data-ng_accordian_href",a);return b},content_ajax:function(a){var b=ng.create("div");b.setAttribute("data-ng_accordian_href",a);return b},get_num_tabs:function(){return this.get_object().get_children_by_class_name(this.p.css_prefix+"content","div").length},tab_from_number:function(a){if(ng.type(a)=="number"){var b=this.get_object().get_children_by_class_name(this.p.css_prefix+"content","div");if(a>=b.length){a=b.length-1}return b[a]}else{return ng.get(a)}},button_from_number:function(a){if(ng.type(a)=="number"){var b=this.get_object().get_children_by_class_name(this.p.css_prefix+"link","span");if(a>=b.length){a=0}return b[a].get_plugin()}else{return ng.get(a).get_plugin()}},max_height:function(){var b=0;var a=this.get_object().get_children_by_class_name(this.p.css_prefix+"content","div",function(d,c){b=Math.max(b,d.scrollHeight,d.get_style("height").to_int())});return b},fill_height:function(){var d=this.get_object();var a=ng.get(d.parentNode);var b=a.clientHeight-a.get_style("paddingTop").to_int()-a.get_style("paddingBottom").to_int();var c=d.get_children_by_class_name("ng-button","span",function(e){b-=e.offsetHeight});return b},get_tab_height:function(a){var c=this.tab_from_number(a);var b=Math.max(c.scrollHeight,c.clientHeight,c.get_style("height").to_int());if(this.p.max_height=="max"){b=this.max_height()}else{if(this.p.max_height=="fill"){b=this.fill_height()}else{if(ng.type(this.p.max_height)=="number"){b=this.p.max_height}}}return b},correct_num:function(b){var a=this.get_num_tabs();if(b>=a){b=a-1}if(b<0){b=0}return b},toggle_tab:function(a){a=this.correct_num(a);var b=this.tab_from_number(a);if(b.has_class(this.p.css_prefix+"closed")){this.open_tab(a)}else{if(!this.p.keep_open){this.close_tab(a)}}return this},open_tab:function(a){a=this.correct_num(a);var f=this.tab_from_number(a);if((a==this.p.current_tab)&&(!f.has_class(this.p.css_prefix+"closed"))){return this}if(!this.p.multi_open){this.close_tab(this.p.current_tab)}var e=f.getAttribute("data-ng_content_type");if((ng.defined(this.p.content_preopen))&&(ng.defined(this.p.content_preopen[e]))){this.p.content_preopen[e].apply(this,[f,a])}else{if(ng.defined(this["preopen_"+e])){this["preopen_"+e](f,a)}}this.p.current_tab=a;var d=this.get_tab_height(f);var c=this.p.css_prefix;f.set_style("height",d);f.remove_class(c+"closed");f.remove_class(c+"limit_height");var b=this.get_num_tabs();if(a+1<b){this.button_from_number(a+1).get_object().add_class(c+"after_open")}if(a>0){this.button_from_number(a-1).get_object().add_class(c+"before_open")}this.button_from_number(a).check();(function(){if((ng.type(this.p.max_height)=="number")||(this.p.max_height=="fill")){f.add_class(c+"limit_height")}}.delay(500,this));this.fire_event("open",[a]);return this},close_tab:function(a){a=this.correct_num(a);var f=this.tab_from_number(a);if(f.has_class(this.p.css_prefix+"closed")){return this}var e=f.getAttribute("data-ng_content_type");if((ng.defined(this.p.content_preclose))&&(ng.defined(this.p.content_preclose[e]))){this.p.content_preclose[e].apply(this,[f,a])}else{if(ng.defined(this["preclose_"+e])){this["preclose_"+e](f,a)}}var c=this.p.css_prefix;f.set_style("height",0);f.remove_class(c+"limit_height");f.add_class(c+"closed");var b=this.get_num_tabs();if(a+1<b){this.button_from_number(a+1).get_object().remove_class(c+"after_open")}if(a>0){this.button_from_number(a-1).get_object().remove_class(c+"before_open")}this.button_from_number(a).uncheck();var d=-1;if(this.p.multi_open){this.get_object().get_children_by_class_name(this.p.css_prefix+"content","div",function(h,g){if(!h.has_class(c+"closed")){d=g;return false}}.bind(this))}this.p.current_tab=d;this.fire_event("close",[a]);return this},resize:function(){if(this.p.current_tab==-1){return this}var e=this.get_num_tabs();for(var b=0;b<e;b++){var f=this.tab_from_number(b);var d=f.getAttribute("data-ng_content_type");if((ng.defined(this.p.content_resize))&&(ng.defined(this.p.content_resize[d]))){this.p.content_resize[d].apply(this,[f,b])}else{if(ng.defined(this["resize_"+d])){this["resize_"+d](f,b)}}}var a=this.p.current_tab;var f=this.tab_from_number(a);f.set_style("height","auto");var c=this.get_tab_height(f,a);f.set_style("height",c);return this},show_loading:function(b,d){b=this.correct_num(b);if(!ng.defined(this.p.loading_arr[b])){var a=this.button_from_number(b).get_object();var c=new ng.ProgressBar({value:d,hide_text:true,overlap_style:{top:a.get_height()-5,height:5},overlap:a});c.make();this.p.loading_arr[b]=c}else{this.p.loading_arr[b].show();this.p.loading_arr[b].set_value(d)}},hide_loading:function(a){a=this.correct_num(a);if(ng.defined(this.p.loading_arr[a])){this.p.loading_arr[a].hide()}this.resize()},preopen_iframe:function(f,c){var d=this.p.css_prefix;if(f.getAttribute("data-did_add")!="1"){var e="";if(this.p.max_height=="auto"){e=" "+d+"fixed_iframe"}this.show_loading(c);var a=new ng.InnerHtmlEvents({load:function(){this.hide_loading(c)}.bind(this)});f.set_html("<iframe "+a+' src="'+f.getAttribute("data-ng_accordian_href")+'" frameborder="0" allowtransparency="true" transparent="transparent" class="'+d+"iframe"+e+'"></iframe>');f.setAttribute("data-did_add","1")}else{if(this.p.max_height=="auto"){var b=f.getElementsByTagName("iframe");b[0].add_class(d+"fixed_iframe")}else{b[0].remove_class(d+"fixed_iframe")}}},preopen_image:function(f,c){if(f.getAttribute("data-did_add")!="1"){var e=this.p.css_prefix;this.show_loading(c);var a=new ng.InnerHtmlEvents({load:function(){this.hide_loading(c)}.bind(this)});var d=this.button_from_number(c);var b='style="';if(ng.defined(d.p.imgwidth)){w="width:"+d.p.imgwidth+"; "}if(ng.defined(d.p.imgheight)){w="height:"+d.p.imgheight+"; "}b+='"';f.set_html("<img "+a+' class="'+e+'image" '+b+' src="'+f.getAttribute("data-ng_accordian_href")+'" border="0" alt="">');f.setAttribute("data-did_add","1")}},preopen_youtube:function(l,f){if(l.getAttribute("data-did_add")!="1"){var b=this.button_from_number(f);var q=560;var e=315;if(ng.defined(b.p.vwidth)){q=b.p.vwidth}if(ng.defined(b.p.vheight)){e=b.p.vheight}var s=q+"px";var n=e+"px";if(b.p.fill=="1"){s="100%";var m=e/q;
q=l.offsetWidth;e=q*m}var j=this.p.css_prefix;this.show_loading(f);var k=this.id+ng.random_id("ytvid");l.setAttribute("data-iframe_vid_id",k);var a=l.getAttribute("data-ng_accordian_href");var o=["youtu.be/","embed/","watch?v="];for(var d=0;d<o.length;d++){if(a.indexOf(o[d])!=-1){var p=a.substr(a.indexOf(o[d])+o[d].length);break}}if(p.indexOf("/")!=-1){p=p.substr(0,p.indexOf("/"))}if(p.indexOf("?")!=-1){p=p.substr(0,p.indexOf("?"))}if(p.indexOf("&")!=-1){p=p.substr(0,p.indexOf("&"))}if((location.protocol!="file:")&&("postMessage" in window)){l.set_html('<div id="'+k+'"></div>');ng.Assets.load_script("https://www.youtube.com/iframe_api");var c=(function(){if(!ng.defined(window.YT)||(!ng.defined(YT.Player))){c.delay(250);return}if(!ng.defined(this.p.youtube_videos)){this.p.youtube_videos={}}this.p.youtube_videos[k]=new YT.Player(k,{width:q,height:e,videoId:p,events:{onReady:function(h){ng.get(h.target.getIframe()).add_class(j+"iframe");this.resize_youtube(l,f);this.hide_loading(f)}.bind(this)}})}.bind(this));c()}else{var g=new ng.InnerHtmlEvents({load:function(){this.resize_youtube(l,f);this.hide_loading(f)}.bind(this)});if(location.protocol=="file:"){var r="http:"}else{var r=""}var a=r+"//www.youtube.com/embed/"+p;l.set_html('<iframe width="'+s.replace("px","")+'" height="'+n.replace("px","")+'" id="'+k+'" src="'+a+'" class="'+j+'iframe" frameborder="0" style="width:'+s+"; height:"+n+';" '+g+" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>")}l.setAttribute("data-did_add","1")}},resize_youtube:function(i,d){if(i.getAttribute("data-did_add")!="1"){return this}var e=this.button_from_number(d);if(e.p.fill!="1"){return this}var b=560;var g=315;if(ng.defined(e.p.vwidth)){b=e.p.vwidth}if(ng.defined(e.p.vheight)){g=e.p.vheight}var a=ng.get(i.getAttribute("data-iframe_vid_id"));var f=g/b;var c=(a.offsetWidth*f)+"px";a.set_style("height",c)},preclose_youtube:function(c,a){if((location.protocol!="file:")&&("postMessage" in window)){var b=c.getAttribute("data-iframe_vid_id");if(this.p.youtube_videos[b].pauseVideo){this.p.youtube_videos[b].pauseVideo()}}else{c.set_html("");c.setAttribute("data-did_add","0")}},preopen_vimeo:function(d,f){if(d.getAttribute("data-did_add")!="1"){var g=this.button_from_number(f);var k=560;var q=315;var a="";var t=0;var m=0;if(ng.defined(g.p.vwidth)){k=g.p.vwidth}if(ng.defined(g.p.vheight)){q=g.p.vheight}if(ng.defined(g.p.text_color)){a=g.p.text_color}if(ng.defined(g.p.loop)){t=g.p.loop}if(ng.defined(g.p.autoplay)){t=g.p.autoplay}var b=k+"px";var j=q+"px";if(g.p.fill=="1"){b="100%"}a.replace("#","");var l=this.p.css_prefix;this.show_loading(f);var s=this.id+ng.random_id("vimeovid");d.setAttribute("data-iframe_vid_id",s);var e=d.getAttribute("data-ng_accordian_href");var c=["video/","vimeo.com/"];for(var p=0;p<c.length;p++){if(e.indexOf(c[p])!=-1){var r=e.substr(e.indexOf(c[p])+c[p].length);break}}if(r.indexOf("/")!=-1){r=r.substr(0,r.indexOf("/"))}if(r.indexOf("?")!=-1){r=r.substr(0,r.indexOf("?"))}if(r.indexOf("&")!=-1){r=r.substr(0,r.indexOf("&"))}var n=new ng.InnerHtmlEvents({load:function(){this.resize_vimeo(d,f);this.hide_loading(f)}.bind(this)});if(location.protocol=="file:"){var o="http:"}else{var o=""}var e=o+"//player.vimeo.com/video/"+r+"?color="+a+"&autoplay="+m+"&loop="+t;if((location.protocol!="file:")&&("postMessage" in window)){e+="&api=1&player_id="+s}d.set_html('<iframe src="'+e+'" '+n+' style="width:'+b+"; height:"+j+';" width="'+b.replace("px","")+'" height="'+j.replace("px","")+'" class="'+l+'iframe" id="'+s+'" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>');d.setAttribute("data-did_add","1")}},resize_vimeo:function(i,d){if(i.getAttribute("data-did_add")!="1"){return this}var e=this.button_from_number(d);if(e.p.fill!="1"){return this}var b=560;var g=315;if(ng.defined(e.p.vwidth)){b=e.p.vwidth}if(ng.defined(e.p.vheight)){g=e.p.vheight}var a=ng.get(i.getAttribute("data-iframe_vid_id"));var f=g/b;var c=(a.offsetWidth*f)+"px";a.set_style("height",c)},preclose_vimeo:function(c,b){if((location.protocol!="file:")&&("postMessage" in window)){var a=ng.get(c.getAttribute("data-iframe_vid_id"));a.contentWindow.postMessage(JSON.stringify({method:"pause",value:""}),"*")}else{c.set_html("");c.setAttribute("data-did_add","0")}},preopen_ajax:function(c,a){if(c.getAttribute("data-did_add")!="1"){this.show_loading(a);c.set_html("");var b=new ng.XHR({url:c.getAttribute("data-ng_accordian_href"),events:{success:function(e){var d=e.text;if(ng.defined(this.p.ajax_process)){d=this.p.ajax_process(d,"success")}c.set_html(d)}.bind(this),fail:function(e){var d=this.p.ajax_failed;if(ng.defined(this.p.ajax_process)){d=this.p.ajax_process(e,"fail")}c.setAttribute("data-did_add","0");c.set_html(d)}.bind(this),complete:function(){this.hide_loading(a)}.bind(this)}});b.get();c.setAttribute("data-did_add","1")}},set_keep_open:function(a){this.p.keep_open=a;return this},get_keep_open:function(){return this.p.keep_open},set_multi_open:function(a){this.p.multi_open=a;return this},get_multi_open:function(){return this.p.multi_open},set_max_height:function(a){if(ng.type(a)=="string"){a=a.toLowerCase()}this.p.max_height=a;return this},get_max_height:function(){return this.p.max_height}});ng.Sortable=function(a){this.p=this.create_options(a,{sort_tag:null,sort_classname:"",handle_tag:"",handle_classname:"",css_prefix:"ng_sortable_",depth:0,css_indent_rule:"transform-translateX",tr_indent_rule:"border-left-width",indent:25,sort_var:null,targets:null,disabled:false,can_sort:true});this.create_events();this.make_id("sortable");this.p.cache={};if(ng.defined(this.p.object)){this.set_object(this.p.object);if(this.p.object.id==""){this.p.object.id=ng.random_id(this.id)}this.p.object.setAttribute("data-list_root","1");if(!ng.defined(this.p.sort_tag)){var b=this.p.object.get("tag");if((b=="ol")||(b=="ul")){this.p.sort_tag="li"}else{if((b=="table")||(b=="tbody")||(b=="thead")){this.p.sort_tag="tr"}else{if(b=="tr"){this.p.sort_tag="td"}else{this.p.sort_tag="div"}}}}}if(this.p.sort_tag==""){this.p.sort_tag="*"}this.p.sort_tag=this.p.sort_tag.toString().toLowerCase();this.p.current_css_depth={};this.p.is_moving=false;if(ng.defined(this.p.targets)){(function(){this.add_drop_target(this.p.targets)}.delay(250,this))}else{if(ng.defined(this.p.object)){this.update()}}return this};ng.Sortable.inherit(ng.PlugIn);ng.extend_proto(ng.Sortable,{has_type:"sortable",get_children_list:function(g,o){g=ng.get(g);if(g.get("tag")=="table"){g=ng.get(g.getElementsByTagName("tbody")[0])}if(!ng.defined(o)){o=[]}var e=[];for(var h=0;h<o.length;h++){e[h]=ng.get(o[h]).id}if(g.querySelectorAll){var b=[];if(this.p.sort_classname==""){b.push(this.p.sort_tag)}else{b.push(this.p.sort_tag+"."+this.p.sort_classname)}if(ng.defined(this.p.drop_objects)){for(var h=0;h<this.p.drop_objects.length;h++){var m=ng.get(this.p.drop_objects[h]);var l=m.get_plugin();if(l.p.sort_classname==""){b.push(l.p.sort_tag)}else{b.push(l.p.sort_tag+"."+l.p.sort_classname)}}}var n=g.querySelectorAll(b.join())}else{var b=[{tag:this.p.sort_tag,cls:this.p.sort_classname}];if(ng.defined(this.p.drop_objects)){for(var h=0;h<this.p.drop_objects.length;h++){var m=ng.get(this.p.drop_objects[h]);var l=m.get_plugin();b.push({tag:l.p.sort_tag,cls:l.p.sort_classname})}}var a=g.getElementsByTagName("*");var n=[];for(var h=0;h<a.length;h++){var p=false;var d=ng.get(a[h]);var c=d.get("tag");for(var f=0;f<b.length;f++){if(c==b[f].tag){if(b[f].cls!=""){if(d.has_class(b[f].cls)){p=true}}else{p=true}if(p){n.push(d)}break}}}}var k=[];for(var h=0;h<n.length;h++){if((n[h].getAttribute("data-ng_drag_clone")!="1")&&(!e.has(n[h].id))){k.push(ng.get(n[h]))}}return k},get_sort_elements:function(d){var e=this.get_object();if(e.get("tag")=="table"){e=ng.get(e.getElementsByTagName("tbody")[0])}var b=this.get_children_list(e,d);if(ng.defined(this.p.drop_objects)){for(var a=0;a<this.p.drop_objects.length;a++){var f=ng.get(this.p.drop_objects[a]);var c=f.get_plugin();if(ng.defined(c)){b=b.concat(c.get_children_list(f,d))}}}return b},get_pre_element:function(e){var a=this.get_children_list(e.get_parent());var d=e.getAttribute("data-list_depth");var c=false;for(var b=a.length-1;b>=0;b--){if((c)&&(a[b].getAttribute("data-list_depth")==d)){return a[b]}if(a[b].id==e.id){c=true}}return null},get_next_element:function(e){var a=this.get_children_list(e.get_parent());var d=e.getAttribute("data-list_depth");var c=false;for(var b=0;b<a.length;b++){if((c)&&(a[b].getAttribute("data-list_depth")==d)){return a[b]}if(a[b].id==e.id){c=true}}return null},get_parent_element:function(e){var a=this.get_children_list(e.get_parent());var d=e.getAttribute("data-list_depth");var c=false;for(var b=a.length-1;b>=0;b--){if((c)&&(a[b].getAttribute("data-list_depth")<d)){return a[b]}if(a[b].id==e.id){c=true}}return null},is_first_in_group:function(d){var a=this.get_children_list(d.get_parent());if(a.length==0){return true}if(a[0].id==d.id){return true}else{if(a[0]==d){return true}else{var c=d.getAttribute("data-list_depth").to_int();for(var b=1;b<a.length;b++){if(a[b].id==d.id){return(a[b-1].getAttribute("data-list_depth").to_int()<c)}}}}return false},is_last_in_group:function(g){var a=this.get_children_list(g.get_parent());if(a.length==0){return true}if(a[a.length-1].id==g.id){return true}else{if(a[a.length-1]==g){return true}else{var e=g.getAttribute("data-list_depth").to_int();var b=false;var c=0;for(var d=0;d<a.length;d++){if(b){var f=a[d].getAttribute("data-list_depth").to_int();if(f==e){return false}else{if(f<e){return true}else{c=f}}}if(a[d].id==g.id){b=true}}if(c>e){return true}}}return false},get_sub_list:function(g){var d;var f=g.getAttribute("data-list_depth").to_int();var c=[];var a=this.get_children_list(g.get_parent());var e=false;for(var b=0;b<a.length;b++){if(e){if(a[b].getAttribute("data-list_depth").to_int()>f){c.push(a[b])}else{break}}if(a[b].id==g.id){e=true}}return c},add_drop_target:function(e){e=ng.array(e);var d=this.get_object().id;if(!ng.defined(this.p.drop_objects)){this.p.drop_objects=[]}var a=[];for(var b=0;b<e.length;b++){if(ng.type(e[b])=="string"){e[b]=ng.get(e[b])}if(ng.type(e[b])=="html_element"){var c=e[b].get_plugin();if(!ng.defined(c)){c=new ng.Sortable(e[b])}}else{c=e[b]}if(ng.defined(c.get_sortable)){c=c.get_sortable()}var f=c.get_object();if((f.id!=d)&&(!this.p.drop_objects.has(f.id))){a.push(c);c.add_event("beforeremove",(function(){this.remove_drop_target(c)}.bind(this)));this.p.drop_objects.push(f.id)}}for(var b=0;b<a.length;b++){a[b].add_drop_target([d].concat(this.p.drop_objects))}return this.update()},remove_drop_target:function(c){if(!ng.defined(this.p.drop_objects)){return this}c=ng.array(c);for(var a=0;a<c.length;a++){if(ng.type(c[a])=="string"){c[a]=ng.get(c[a])}if(ng.type(c[a])=="html_element"){var b=c[a].get_plugin();if(!ng.defined(b)){b=new ng.Sortable(c[a])}b.add_drop_target(this)}else{b=c[a]}if(ng.defined(b.get_sortable)){b=b.get_sortable()}var d=b.get_object();b.remove_drop_target(this);this.p.drop_objects.remove_value(d.id)}return this},get_targets:function(){var b=this.get_object().id;if(ng.defined(this.p.drop_objects)){var a=this.p.drop_objects}else{var a=[]}return[b].concat(a)},append_to_target:function(g,c){var e=g.getAttribute("data-list_depth").to_int();var f=this.get_sub_list(g);this.set_element_depth(g,0);var a=c;if(c.get("tag")=="table"){a=ng.get(g.getElementsByTagName("tbody")[0])}a.append_element(g,"top");a=g;for(var b=0;b<f.length;b++){var d=f[b].getAttribute("data-list_depth").to_int()-e;this.set_element_depth(f[b],d);a.append_element(f[b],"after");a=f[b]}this.fire_event("append",[g,c]);return this},set_element_depth:function(g,f){var c=this.p.css_prefix;if(f>this.p.depth){f=this.p.depth}if(f<0){f=0}g.setAttribute("data-list_depth",f);if(g.get("tag")=="tr"){var e=this.p.tr_indent_rule;var a=ng.get(g.getElementsByTagName("td")[0])}else{var e=this.p.css_indent_rule;var a=g}var b=ng.Language.get_dir(this.get_language());var d=1;if(b=="rtl"){if(e.indexOf("left")!=-1){e=e.replace("left","right")}else{if(e.indexOf("Left")!=-1){e=e.replace("Left","Right")}else{d=-1}}}a.set_style(e,this.p.indent*f*d);if((e.indexOf("border")!=-1)&&(a.get_style("border-style")=="none")){a.set_styles({borderStyle:"solid",borderColor:"transparent"})}if(f>0){g.add_class(c+"sub")}else{g.remove_class(c+"sub")}return this},prepare_element_depth:function(e){var c=e.getAttribute("data-list_depth");if(!ng.defined(c)){c=""}if(isNaN(c.to_int())){c=0}if(c==""){var d=e.get_parent();var b=d;c=0;while(true){var a=b.getAttribute("data-list_depth");if(ng.defined(a)){a=a.to_int();if(!isNaN(a)){c=a+1;break}}b=b.get_parent();if(b.getAttribute("data-list_root")=="1"){break}if(b.get("tag")=="body"){break}}if(c>0){b.append_element(e,"after");if(d.get_direct_children().length==0){d.remove_element()}}}return this.set_element_depth(e,c)},get_element_sort_var:function(b){if(ng.defined(this.p.sort_var)){var a=b.getAttribute("data-"+this.p.sort_var);if((!ng.defined(a))||(a=="")){a=b.id}}else{var a=b.id}return a},get_group_name:function(b){var a=b.get("name");if(!ng.defined(a)){a=""}if(a==""){return this.get_element_sort_var(b)}return a},get_drag_handle:function(d){var c=this.p.handle_tag;var b=this.p.handle_classname;if((c=="")&&(b=="")){return d}if(c==""){c="*"}if(b==""){var a=d.get_children(c,function(f,e){if(e>0){return false}})}else{var a=d.get_children_by_class_name(b,c,function(f,e){if(e>0){return false}})}return a[0]},update:function(){var f=this.get_object();var e=this.get_sort_elements();var d=this.p.css_prefix;for(var c=0;c<e.length;c++){if((!ng.defined(e[c].id))||(e[c].id=="")){e[c].id=ng.random_id(this.id)}this.prepare_element_depth(e[c]);if(!e[c].p.did_set_drag){var b=e[c].get_style("margin-top").to_int();if(isNaN(b)){b=0}var a=e[c].get_style("margin-left").to_int();if(isNaN(a)){a=0}e[c].drag({cache_targets:false,style:"clone",opacity:50,handle:this.get_drag_handle(e[c]),offset:{top:b*-1,left:a*-1}});e[c].add_events({predragstart:function(g,n){if(!this.can_sort(n)){n.stop_drag();return this}this.fire_event("presort",[n]);n.start_drag();var m=this.get_sub_list(n);var h=n.get_parent().clone_element(false);var l=n.get_position();h.set_styles({position:"absolute",margin:0,padding:0,width:n.get_parent().get_width()});h.append_element(n.clone_element(true));var k={};k[n.id]=n.getAttribute("data-list_depth").to_int();for(var j=0;j<m.length;j++){h.append_element(m[j].clone_element(true));k[m[j].id]=m[j].getAttribute("data-list_depth").to_int()}h.add_event("click",function(i){n.fire_event("drop",[null],i)}).set_style("z-index",1000000);n.get_parent().append_element(h,"after");n.set_drag_targets(this.get_sort_elements(m));n.set_drag_style(h);this.p.cache[n.id]={drag_element:h,ini_left:g.left-l.left,elm_position:"",sub_drag_list:m,sub_drag_indent:k,lang_dir:ng.Language.get_dir(this.get_language())};n.add_class(d+"placeholder");for(var j=0;j<m.length;j++){m[j].add_class(d+"placeholder")}}.bind(this,[e[c]]),drop:function(n,p,m){if((ng.defined(this.p.drop_objects))&&(!ng.defined(n))){var k=this.p.drop_objects;k.push(this.get_object());for(var j=0;j<k.length;j++){var g=ng.get(k[j]);var o=g.get_position();if(((p.top>=o.top)&&(p.top<=o.bottom))&&((p.left>=o.left)&&(p.left<=o.right))){var l=this.get_children_list(g);if(l.length==0){this.append_to_target(m,g)}}}}m.remove_class(d+"placeholder");if(ng.defined(this.p.cache[m.id])){while(this.p.cache[m.id].drag_element.parentNode){this.p.cache[m.id].drag_element.remove_element()}var h=this.p.cache[m.id].sub_drag_list;for(var j=0;j<h.length;j++){h[j].remove_class(d+"placeholder")}this.p.cache[m.id]=null}m.set_styles({position:"",top:"auto",left:"auto"});this.fire_event("drop",[m,n],p)}.bind(this,[e[c]]),targetmove:function(r,v,p){if(this.p.is_moving){return}if((!ng.defined(r))||(ng.type(r)!="html_element")){return}var q=(p.id==r.id);var j=this.is_first_in_group(r);var x=this.p.cache[p.id].sub_drag_indent;var k=x[p.id];if(!q){var t=r.get_position();var o=p.get_position();if(Math.round(t.top)==Math.round(o.top)){var u=r.get_width();if(v.left>t.left+(u/2)){var n="after"}else{var n="before"}}else{var m=r.get_height();if(v.top>t.top+(m/2)){var n="after"}else{var n="before"}}if(this.p.cache[p.id].elm_position!=n+r.id){if(n=="after"){var i=this.get_sub_list(r);if(i.length){r=i[0];n="before"}}this.move(p,r,n,k)}}else{var g=p.getAttribute("data-list_depth").to_int();if((!j)&&(g<this.p.depth)){var s=this.get_pre_element(p);if(!ng.defined(s)){j=true}}if((!j)&&(g<this.p.depth)){var y=s.get_position().left;var l=(v.left>y+this.p.cache[p.id].ini_left+this.p.indent);if(this.p.cache[p.id].lang_dir=="rtl"){l=(v.left<y+this.p.cache[p.id].ini_left+this.p.indent)}if(l){this.set_moving();this.indent(p,g+1)}}if(g>0){var y=r.get_position().left;var l=(v.left<y+this.p.cache[p.id].ini_left-this.p.indent);if(this.p.cache[p.id].lang_dir=="rtl"){l=(v.left>y+this.p.cache[p.id].ini_left-this.p.indent)}if(l){this.set_moving();this.indent(p,g-1)}}}}.bind(this,[e[c]])})}}return this},set_moving:function(){this.p.is_moving=true;(function(){this.p.is_moving=false}.delay(250,this))},move:function(h,j,l,f){h=ng.get(h);j=ng.get(j);if(!ng.defined(l)){l="after"}var m=false;if(ng.defined(this.p.cache[h.id])){var m=true;var d=this.p.cache[h.id].sub_drag_list;var n=this.p.cache[h.id].sub_drag_indent}else{var d=this.get_sub_list(h);var n={};n[h.id]=h.getAttribute("data-list_depth").to_int();for(var g=0;g<d.length;g++){n[d[g].id]=d[g].getAttribute("data-list_depth").to_int()}}if((!m)&&(l=="after")){var k=this.get_sub_list(j);if(k.length){return this.move(j,h,"before",f)}}if(!ng.defined(f)){f=j.getAttribute("data-list_depth").to_int()}j.append_element(h,l);var b=j.getAttribute("data-list_depth").to_int();var e=0;if(f!=b){e=b-f;f=b}this.fire_event("move",[h,j,l]);this.set_element_depth(h,f);if(ng.defined(this.p.cache[h.id])){this.p.cache[h.id].elm_position=l+j.id}var a=h;for(var g=0;g<d.length;g++){var c=n[d[g].id];c+=e;a.append_element(d[g],"after");this.fire_event("move",[d[g],a,"after"]);this.set_element_depth(d[g],c);a=d[g]}return this},move_up:function(a){a=ng.get(a);if(this.is_first_in_group(a)){return this}return this.move(a,this.get_pre_element(a),"before")},move_down:function(a){a=ng.get(a);if(this.is_last_in_group(a)){return this}return this.move(a,this.get_next_element(a),"after")},indent:function(g,d){g=ng.get(g);if(d>this.p.depth){d=this.p.depth}if(d<0){d=0}var c=g.getAttribute("data-list_depth").to_int();if(d==c){return this}if(ng.defined(this.p.cache[g.id])){var f=this.p.cache[g.id].sub_drag_list;var b=this.p.cache[g.id].sub_drag_indent}else{var f=this.get_sub_list(g);var b={};b[g.id]=g.getAttribute("data-list_depth").to_int();for(var a=0;a<f.length;a++){b[f[a].id]=f[a].getAttribute("data-list_depth").to_int()}}this.set_element_depth(g,d);this.fire_event("indent",[g,d]);for(var a=0;a<f.length;a++){var e=b[f[a].id]+d-b[g.id];this.set_element_depth(f[a],e);this.fire_event("indent",[f[a],e])}return this},indent_out:function(b){b=ng.get(b);var a=b.getAttribute("data-list_depth").to_int();return this.indent(b,a+1)},indent_in:function(b){b=ng.get(b);var a=b.getAttribute("data-list_depth").to_int();return this.indent(b,a-1)},get_value:function(c){if(!ng.defined(c)){c=true}var m={};var e=this.get_object();var k=this.get_element_sort_var(e);m[k]=[];var g=this.get_children_list(e);for(var f=0;f<g.length;f++){var l=this.get_element_sort_var(g[f]);var a=null;var d=this.get_parent_element(g[f]);if(ng.defined(d)){a=this.get_element_sort_var(d)}m[k].push({id:l,position:f,depth:g[f].getAttribute("data-list_depth").to_int(),parent:a})}if((c)&&(ng.defined(this.p.drop_objects))&&(this.p.drop_objects.length)){for(var f=0;f<this.p.drop_objects.length;f++){var j=ng.get(this.p.drop_objects[f]);var h=j.get_plugin();if(ng.defined(h)){var b=h.get_element_sort_var(j);m[b]=h.get_value(false)}}return m}else{return m[k]}},set_sort_var:function(a){this.p.sort_var=a;return this},get_sort_var:function(){return this.p.sort_var},set_depth:function(a){this.p.depth=a;return this},get_depth:function(){return this.p.depth},can_sort:function(a){if(ng.defined(a)){if(ng.get(a).getAttribute("data-can_sort")=="0"){return false}}return(!this.p.disabled&&this.p.can_sort)},set_can_sort:function(a){this.p.can_sort=a;return this},get_can_sort:function(){return this.p.can_sort},disable:function(){if(!this.p.disabled){this.p.disabled=true;if(ng.defined(this.p.object)){this.p.object.add_class("disabled")}this.fire_event("disable")}return this},enable:function(){if(this.p.disabled){this.p.disabled=false;if(ng.defined(this.p.object)){this.p.object.remove_class("disabled")}this.fire_event("enable")}return this},is_disabled:function(){return this.p.disabled},is_enabled:function(){return !this.p.disabled},to_json:function(a){return ng.make_json(this.get_value(a))},toString:function(){return this.get_value().toString()}});if(ng.defined(ng.UI)){ng.UI.add_to_ini("ng-sortable",function(a){ng.UI.common_ini(a,ng.Sortable)})}ng.Accordion=function(a){this.p=this.create_options(a,{css_prefix:"ng_accordion_",max_height:"auto",position:"after",active_tab:0,keep_open:false,multi_open:false,can_sort:false,close_on_sort:true,sortable_options:null,can_remove:false,disabled:false,content_type:null,content_preopen:null,content_preclose:null,content_resize:null,ajax_process:null,ajax_failed:null});this.create_events();this.set_max_height(this.p.max_height);this.p.position=this.p.position.toString().toLowerCase();this.make_id("accordion");this.p.loading_arr={};if(ng.defined(this.p.object)){this.render(this.p.object)}return this};ng.Accordion.inherit(ng.PlugIn);ng.extend_proto(ng.Accordion,{has_type:"accordion",render:function(f){if(ng.defined(f)){this.set_object(f)}var f=this.get_object();var k=ng.get(f);var h=this.p.css_prefix;var c=k.get("id");if(c==""){c=this.get_id()}this.set_object(ng.create("div",{className:h+"container "+h+this.p.position,"data-ng_skip":"1",id:c}));k.append_element(this.get_object(),"before");this.p.holder=ng.create("div",{className:h+"holder"});f=this.p.holder;var m="";if((ng.defined(this.p.sortable_options))&&(ng.defined(this.p.sortable_options.sort_var))){m=f.getAttribute("data-"+this.p.sortable_options.sort_var)}if(m==""){m=f.get("id")}if(m==""){m=this.get_id()}f.setAttribute("data-sortid",m);this.get_object().append_element(f);var j=0;var g=k.get_children("a");var a=[];for(var e=0;e<g.length;e++){lnk=ng.get(g[e]);f.append_element(lnk);var l=this.get_content_type_element(lnk);var d=this.make_button_from_link(lnk,l);var n=d.get_object();if(this.p.position=="after"){n.append_element(l,"after")}else{if(this.p.position=="before"){n.append_element(l,"before")}else{a.push(l)}}if(j==this.p.active_tab){(function(i){this.open_tab(i)}.defer(this,[j]))}j++}f=this.get_object();var b="top";if(this.p.position=="bottom"){a.reverse();b="bottom"}for(var e=a.length-1;e>=0;e--){f.append_element(a[e],b)}k.remove_element();ng.get(window).add_event("resize",function(){this.resize()}.bind(this));ng.get(window).add_event("load",function(){this.resize()}.bind(this));if(this.p.disabled){this.p.disabled=false;this.disable.defer(this)}return this.set_can_sort(this.p.can_sort)},get_content_type_element:function(h,c){var b=this.p.css_prefix;if(!ng.defined(c)){c=""}if(ng.type(h)=="button"){var f=h.p.content_type;var a=h.get_link()}else{var f=h.getAttribute("data-content_type");var a=h.getAttribute("href")}var e=false;if((!ng.defined(f))||(f=="")){e=true}if(ng.defined(this.p.content_type)){if(!ng.defined(this.p.content_type[f])){e=true}}else{if(!ng.defined(this["content_"+f])){e=true}}if(e){if((a=="")||(!ng.defined(a))){f=""}else{var d=a.substr(a.length-4).toLowerCase();if(a.substr(0,1)=="#"){f="hash"}else{if((a.indexOf("youtu.be")!=-1)||(a.indexOf("youtube.com")!=-1)){f="youtube"}else{if(a.indexOf("vimeo.com")!=-1){f="vimeo"}else{if((d==".jpg")||(d==".gif")||(d==".png")){f="image"}else{if(a.indexOf("ngajax")!=-1){f="ajax"}else{f="iframe"}}}}}}}if(f==""){var g=c}else{if((ng.defined(this.p.content_type))&&(ng.defined(this.p.content_type[f]))){var g=this.p.content_type[f].apply(this,[a])}else{if(ng.defined(this["content_"+f])){var g=this["content_"+f](a)}else{var g=this.content_iframe(a)}}}if(ng.type(g)=="string"){g=ng.create("div",{innerHTML:g})}g.add_class(b+"content");g.setAttribute("data-ng_content_type",f);g.add_class(b+"closed");if((!ng.defined(g.id))||(g.id=="")){g.id=ng.random_id("ng_accordian_"+f)}return g},make_button_from_link:function(e,f){var d=this.p.css_prefix;if(ng.type(e)!="button"){e=ng.get(e);var h=e.getAttribute("data-ui_class");if(!ng.defined(h)){h=""}if(h!=""){h+=" "}var c=true;if(e.getAttribute("data-can_sort")==0){c=false}if(c){h+=d+"sortable "}e.setAttribute("data-ui_class",h+d+"link");e.setAttribute("data-stop_default","1");var a=new ng.Button(e);var g="";if((ng.defined(this.p.sortable_options))&&(ng.defined(this.p.sortable_options.sort_var))){g=e.getAttribute("data-"+this.p.sortable_options.sort_var)}if(g==""){g=e.get("id")}if(g==""){g=a.get_id()}a.get_object().setAttribute("data-sortid",g)}a.p.content_id=f.id;var i="";if(ng.defined(a.p.can_remove)){if(a.p.can_remove){i=d+"visible"}}else{if(this.p.can_remove){i=d+"visible"}}var b=ng.create("div",{className:d+"remove_button "+i,html:"&times;",events:{click:function(j){j.stop();return this.remove_tab(this.number_from_button(a))}.bind(this)}});a.get_object().append_element(b);a.p.close_button=b;a.add_event("click",function(k){var n=this.get_object().get_parent().get_plugin();while(ng.type(n)!="accordion"){n=n.get_object().get_parent().get_plugin();if(!ng.defined(n)){return}}var j=n.p.holder.get_children_by_class_name(d+"link","span");var m=0;for(m=0;m<j.length;m++){var l=j[m].get_plugin();if(l.p.content_id==this.p.content_id){break}}n.toggle_tab(m);k.stop_default()});return a},add_tab:function(b,c,k){if(this.p.disabled){return this}if(!ng.defined(k)){k="bottom"}if(k=="top"){k=0}var e=this.p.position;var g=this.get_num_tabs();var l="before";if(k=="bottom"){l="after";k=g-1}if(k>=g){k=g-1}if(k<0){k=0}if(e=="after"){var a=this.tab_from_number(k);l="after"}else{var a=this.button_from_number(k).get_object()}var j=ng.type(b);if(j=="string"){var f=ng.create("a",{innerHTML:b})}else{var f=b}var m=this.get_open_tabs();for(var d=0;d<m.length;d++){this.close_tab(m[d])}var h=this.get_content_type_element(f,c);a.append_element(f,l);var b=this.make_button_from_link(f,h);var n=b.get_object();if(e=="after"){n.append_element(h,"after")}else{if(e=="before"){n.append_element(h,"before")}else{this.tab_from_number(k).append_element(h,l)}}for(var d=0;d<m.length;d++){this.open_tab(m[d])}this.fire_event("add");return this},remove_tab:function(b){if(this.p.disabled){return this}b=this.correct_num(b);var d=this.button_from_number(b);if(d.is_disabled()){return this}var a=-1;if(this.is_open(b)){this.close_tab(this.get_num_tabs());if(this.get_num_tabs()>1){a=b}}var e=this.get_open_tabs();for(var c=0;c<e.length;c++){this.close_tab(e[c])}if(a!=-1){e.push(a)}this.tab_from_number(b).remove_element();d.remove();for(var c=0;c<e.length;c++){this.open_tab(e[c])}this.fire_event("remove",[b]);return this},content_hash:function(a){var b=ng.create("div");b.append_element(ng.get(a.substr(1)));return b},content_iframe:function(a){var b=ng.create("div");b.setAttribute("data-ng_accordian_href",a);return b},content_image:function(a){var b=ng.create("div");b.setAttribute("data-ng_accordian_href",a);return b},content_youtube:function(a){var b=ng.create("div");b.setAttribute("data-ng_accordian_href",a);return b},content_vimeo:function(a){var b=ng.create("div");b.setAttribute("data-ng_accordian_href",a);return b},content_ajax:function(a){var b=ng.create("div");b.setAttribute("data-ng_accordian_href",a);return b},get_num_tabs:function(){return this.get_object().get_children_by_class_name(this.p.css_prefix+"content","div").length},tab_from_number:function(a){if(ng.type(a)=="number"){var b=this.get_object().get_children_by_class_name(this.p.css_prefix+"content","div");if(a>=b.length){a=b.length-1}return b[a]}else{return ng.get(a)}},number_from_tab:function(c){if(ng.type(c)=="html_element"){c=ng.get(c).get("id")}var b=this.get_object().get_children_by_class_name(this.p.css_prefix+"content","div");for(var a=0;a<b.length;a++){if(b[a].get("id")==c){return a}}return -1},button_from_number:function(a){if(ng.type(a)=="number"){var b=this.p.holder.get_children_by_class_name(this.p.css_prefix+"link","span");if(a>=b.length){a=0}return b[a].get_plugin()}else{return ng.get(a).get_plugin()}},number_from_button:function(e){if((ng.type(e)=="string")||(ng.type(e)=="html_element")){var d=ng.get(e).get_plugin()}else{var d=e}if(ng.type(d)!="button"){return -1}var a=this.p.holder.get_children_by_class_name(this.p.css_prefix+"link","span");for(var c=0;c<a.length;c++){var b=a[c].get_plugin();if(b.p.content_id==d.p.content_id){return c}}return -1},max_height:function(){var b=0;var a=this.get_object().get_children_by_class_name(this.p.css_prefix+"content","div",function(d,c){b=Math.max(b,d.scrollHeight,d.get_style("height").to_int())});return b},fill_height:function(){var a=this.get_object().get_parent();var b=a.clientHeight-a.get_style("paddingTop").to_int()-a.get_style("paddingBottom").to_int();if((this.p.position=="top")||(this.p.position=="bottom")){b-=this.p.holder.offsetHeight}else{var c=this.p.holder.get_children_by_class_name("ng-button","span",function(d){b-=d.offsetHeight})}return b},get_tab_height:function(a){var c=this.tab_from_number(a);var b=Math.max(c.scrollHeight,c.clientHeight,c.get_style("height").to_int());if(this.p.max_height=="max"){b=this.max_height()}else{if(this.p.max_height=="fill"){b=this.fill_height()}else{if(ng.type(this.p.max_height)=="number"){b=this.p.max_height}}}return b},correct_num:function(b){if(ng.type(b)=="html_element"){b=b.get("id")}if(ng.type(b)=="string"){if(b.is_numeric()){b=b.to_int()}else{b=this.number_from_tab(b);if(b==-1){b=this.number_from_button(b)}}}var a=this.get_num_tabs();if(b>=a){b=a-1}if(b<0){b=0}return b},toggle_tab:function(a){if(this.p.disabled){return this}a=this.correct_num(a);var c=this.tab_from_number(a);if(c.has_class(this.p.css_prefix+"closed")){this.open_tab(a)}else{var b=this.get_open_tabs();if((!this.p.keep_open)||(b.length>1)){this.close_tab(a)}}this.fire_event("toggle",[a]);return this},open:function(a){return this.open_tab(a)},open_tab:function(f){if(this.p.disabled){return this}if(this.get_num_tabs()==0){return this}if(this.is_open(f)){return this}f=this.correct_num(f);var a=this.button_from_number(f);if(a.is_disabled()){return this}var j=this.tab_from_number(f);if(!this.p.multi_open){var c=this.get_open_tabs();for(var d=0;d<c.length;d++){this.close_tab(c[d])}}var l=j.getAttribute("data-ng_content_type");if((ng.defined(this.p.content_preopen))&&(ng.defined(this.p.content_preopen[l]))){this.p.content_preopen[l].apply(this,[j,f])}else{if(ng.defined(this["preopen_"+l])){this["preopen_"+l](j,f)}}if((this.p.multi_open)&&(this.p.max_height=="fill")){var c=this.get_open_tabs();var b=c.length+1;var e=this.get_tab_height(j);e=e/b;for(var d=0;d<c.length;d++){this.tab_from_number(c[d]).set_style("height",e)}}else{var e=this.get_tab_height(j)}j.set_style("height",e);var g=this.p.css_prefix;j.remove_class(g+"closed");j.remove_class(g+"limit_height");var k=this.get_num_tabs();if(f+1<k){this.button_from_number(f+1).get_object().add_class(g+"after_open")}if(f>0){this.button_from_number(f-1).get_object().add_class(g+"before_open")}a.check();(function(){if((ng.type(this.p.max_height)=="number")||(this.p.max_height=="fill")){j.add_class(g+"limit_height")}}.delay(500,this));this.fire_event("open",[f]);return this},close:function(a){return this.close_tab(a)},close_tab:function(e){if(this.p.disabled){return this}if(this.get_num_tabs()==0){return this}if(this.is_close(e)){return this}e=this.correct_num(e);var a=this.button_from_number(e);var g=this.tab_from_number(e);var k=g.getAttribute("data-ng_content_type");if((ng.defined(this.p.content_preclose))&&(ng.defined(this.p.content_preclose[k]))){this.p.content_preclose[k].apply(this,[g,e])}else{if(ng.defined(this["preclose_"+k])){this["preclose_"+k](g,e)}}var f=this.p.css_prefix;g.set_style("height",0);g.remove_class(f+"limit_height");g.add_class(f+"closed");var j=this.get_num_tabs();if(e+1<j){this.button_from_number(e+1).get_object().remove_class(f+"after_open")}if(e>0){this.button_from_number(e-1).get_object().remove_class(f+"before_open")}a.uncheck();if((this.p.multi_open)&&(this.p.max_height=="fill")){var b=this.get_open_tabs();if(b.length>0){var d=this.get_tab_height(g);d=d/b.length;for(var c=0;c<b.length;c++){this.tab_from_number(b[c]).set_style("height",d)}}}this.fire_event("close",[e]);return this},is_open:function(a){a=this.correct_num(a);var b=this.tab_from_number(a);return(!b.has_class(this.p.css_prefix+"closed"))},is_close:function(a){return !this.is_open(a)},get_open_tabs:function(){var c=[];var a=this.get_num_tabs();for(var b=0;b<a;b++){var d=this.tab_from_number(b);if(!d.has_class(this.p.css_prefix+"closed")){c.push(b)}}return c},get_close_tabs:function(){var c=[];var a=this.get_num_tabs();for(var b=0;b<a;b++){var d=this.tab_from_number(b);if(d.has_class(this.p.css_prefix+"closed")){c.push(b)}}return c},resize:function(){var e=this.get_num_tabs();for(var a=0;a<e;a++){var f=this.tab_from_number(a);var d=f.getAttribute("data-ng_content_type");if((ng.defined(this.p.content_resize))&&(ng.defined(this.p.content_resize[d]))){this.p.content_resize[d].apply(this,[f,a])}else{if(ng.defined(this["resize_"+d])){this["resize_"+d](f,a)}}}var c=this.get_open_tabs();for(var a=0;a<c.length;a++){var f=this.tab_from_number(c[a]);f.set_style("height","auto");var b=this.get_tab_height(f,a);f.set_style("height",b)}this.fire_event("resize");return this},show_loading:function(b,d){b=this.correct_num(b);if(!ng.defined(this.p.loading_arr[b])){var a=this.button_from_number(b).get_object();var c=new ng.ProgressBar({value:d,hide_text:true,overlap_style:{top:"auto",height:5},overlap:a});c.make();this.p.loading_arr[b]=c}else{this.p.loading_arr[b].show();this.p.loading_arr[b].set_value(d)}this.fire_event("loading",[b]);return this},hide_loading:function(a){a=this.correct_num(a);if(ng.defined(this.p.loading_arr[a])){this.p.loading_arr[a].hide()}this.resize();this.fire_event("load",[a]);return this},preopen_iframe:function(h,d){var f=this.p.css_prefix;if(h.getAttribute("data-did_add")!="1"){var e=this.button_from_number(d);var g="";if(this.p.max_height=="auto"){g=" "+f+"fixed_iframe"}this.show_loading(d);var a=new ng.InnerHtmlEvents({load:function(){this.hide_loading(d)}.bind(this)});var c='style="';if(ng.defined(e.p.contentwidth)){c+="width:"+e.p.contentwidth+"px; "}if(ng.defined(e.p.contentheight)){c+="height:"+e.p.contentheight+"px; "}c+='"';h.set_html("<iframe "+a+' src="'+h.getAttribute("data-ng_accordian_href")+'" frameborder="0" allowtransparency="true" transparent="transparent" class="'+f+"iframe"+g+'" '+c+"></iframe>");h.setAttribute("data-did_add","1")}else{if(this.p.max_height=="auto"){var b=h.getElementsByTagName("iframe");b[0].add_class(f+"fixed_iframe")}else{b[0].remove_class(f+"fixed_iframe")}}},preopen_image:function(f,c){if(f.getAttribute("data-did_add")!="1"){var e=this.p.css_prefix;this.show_loading(c);var a=new ng.InnerHtmlEvents({load:function(){this.hide_loading(c)}.bind(this)});var d=this.button_from_number(c);var b='style="';if(d.p.fill=="1"){b+="width:100%; "}else{if(ng.defined(d.p.contentwidth)){b+="width:"+d.p.contentwidth+"px; "}if(ng.defined(d.p.contentheight)){b+="height:"+d.p.contentheight+"px; "}}b+='"';f.set_html("<img "+a+' class="'+e+'image" '+b+' src="'+f.getAttribute("data-ng_accordian_href")+'" border="0" alt="">');f.setAttribute("data-did_add","1")}},preopen_youtube:function(l,f){if(l.getAttribute("data-did_add")!="1"){var b=this.button_from_number(f);var q=560;var e=315;if(ng.defined(b.p.contentwidth)){q=b.p.contentwidth}if(ng.defined(b.p.contentheight)){e=b.p.contentheight}var s=q+"px";var n=e+"px";if(b.p.fill=="1"){s="100%";var m=e/q;
q=l.offsetWidth;e=q*m}var j=this.p.css_prefix;this.show_loading(f);var k=this.id+ng.random_id("ytvid");l.setAttribute("data-iframe_vid_id",k);var a=l.getAttribute("data-ng_accordian_href");var o=["youtu.be/","embed/","watch?v="];for(var d=0;d<o.length;d++){if(a.indexOf(o[d])!=-1){var p=a.substr(a.indexOf(o[d])+o[d].length);break}}if(p.indexOf("/")!=-1){p=p.substr(0,p.indexOf("/"))}if(p.indexOf("?")!=-1){p=p.substr(0,p.indexOf("?"))}if(p.indexOf("&")!=-1){p=p.substr(0,p.indexOf("&"))}if((location.protocol!="file:")&&("postMessage" in window)){l.set_html('<div id="'+k+'"></div>');ng.Assets.load_script("https://www.youtube.com/iframe_api");var c=(function(){if(!ng.defined(window.YT)||(!ng.defined(YT.Player))){c.delay(250);return}if(!ng.defined(this.p.youtube_videos)){this.p.youtube_videos={}}this.p.youtube_videos[k]=new YT.Player(k,{width:q,height:e,videoId:p,events:{onReady:function(h){ng.get(h.target.getIframe()).add_class(j+"video").set_style("width",s);this.resize_youtube(l,f);this.hide_loading(f)}.bind(this)}})}.bind(this));c()}else{var g=new ng.InnerHtmlEvents({load:function(){this.resize_youtube(l,f);this.hide_loading(f)}.bind(this)});if(location.protocol=="file:"){var r="http:"}else{var r=""}var a=r+"//www.youtube.com/embed/"+p;l.set_html('<iframe width="'+s.replace("px","")+'" height="'+n.replace("px","")+'" id="'+k+'" src="'+a+'" frameborder="0" style="width:'+s+"; height:"+n+';" '+g+" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>")}l.setAttribute("data-did_add","1")}},resize_youtube:function(i,d){if(i.getAttribute("data-did_add")!="1"){return this}var e=this.button_from_number(d);if(e.p.fill!="1"){return this}var b=560;var g=315;if(ng.defined(e.p.contentwidth)){b=e.p.contentwidth}if(ng.defined(e.p.contentheight)){g=e.p.contentheight}var a=ng.get(i.getAttribute("data-iframe_vid_id"));var f=g/b;var c=(a.offsetWidth*f)+"px";a.set_style("height",c)},preclose_youtube:function(c,a){if((location.protocol!="file:")&&("postMessage" in window)){var b=c.getAttribute("data-iframe_vid_id");if(this.p.youtube_videos[b].pauseVideo){this.p.youtube_videos[b].pauseVideo()}}else{c.set_html("");c.setAttribute("data-did_add","0")}},preopen_vimeo:function(d,f){if(d.getAttribute("data-did_add")!="1"){var g=this.button_from_number(f);var k=560;var q=315;var a="";var t=0;var m=0;if(ng.defined(g.p.contentwidth)){k=g.p.contentwidth}if(ng.defined(g.p.contentheight)){q=g.p.contentheight}if(ng.defined(g.p.text_color)){a=g.p.text_color}if(ng.defined(g.p.loop)){t=g.p.loop}if(ng.defined(g.p.autoplay)){t=g.p.autoplay}var b=k+"px";var j=q+"px";if(g.p.fill=="1"){b="100%"}a.replace("#","");var l=this.p.css_prefix;this.show_loading(f);var s=this.id+ng.random_id("vimeovid");d.setAttribute("data-iframe_vid_id",s);var e=d.getAttribute("data-ng_accordian_href");var c=["video/","vimeo.com/"];for(var p=0;p<c.length;p++){if(e.indexOf(c[p])!=-1){var r=e.substr(e.indexOf(c[p])+c[p].length);break}}if(r.indexOf("/")!=-1){r=r.substr(0,r.indexOf("/"))}if(r.indexOf("?")!=-1){r=r.substr(0,r.indexOf("?"))}if(r.indexOf("&")!=-1){r=r.substr(0,r.indexOf("&"))}var n=new ng.InnerHtmlEvents({load:function(){this.resize_vimeo(d,f);this.hide_loading(f)}.bind(this)});if(location.protocol=="file:"){var o="http:"}else{var o=""}var e=o+"//player.vimeo.com/video/"+r+"?color="+a+"&autoplay="+m+"&loop="+t;if((location.protocol!="file:")&&("postMessage" in window)){e+="&api=1&player_id="+s}d.set_html('<iframe src="'+e+'" '+n+' style="width:'+b+"; height:"+j+';" width="'+b.replace("px","")+'" height="'+j.replace("px","")+'" id="'+s+'" class="'+l+'video" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>');d.setAttribute("data-did_add","1")}},resize_vimeo:function(i,d){if(i.getAttribute("data-did_add")!="1"){return this}var e=this.button_from_number(d);if(e.p.fill!="1"){return this}var b=560;var g=315;if(ng.defined(e.p.contentwidth)){b=e.p.contentwidth}if(ng.defined(e.p.contentheight)){g=e.p.contentheight}var a=ng.get(i.getAttribute("data-iframe_vid_id"));var f=g/b;var c=(a.offsetWidth*f)+"px";a.set_style("height",c)},preclose_vimeo:function(c,b){if((location.protocol!="file:")&&("postMessage" in window)){var a=ng.get(c.getAttribute("data-iframe_vid_id"));a.contentWindow.postMessage(JSON.stringify({method:"pause",value:""}),"*")}else{c.set_html("");c.setAttribute("data-did_add","0")}},preopen_ajax:function(c,a){if(c.getAttribute("data-did_add")!="1"){this.show_loading(a);c.set_html("");var b=new ng.XHR({url:c.getAttribute("data-ng_accordian_href"),events:{success:function(e){var d=e.text;if(ng.defined(this.p.ajax_process)){d=this.p.ajax_process(d,"success")}c.set_html(d)}.bind(this),fail:function(e,f){if(ng.defined(this.p.ajax_failed)){var d=this.p.ajax_failed}else{var d=f+" ("+e+")"}if(ng.defined(this.p.ajax_process)){d=this.p.ajax_process(e,"fail")}c.setAttribute("data-did_add","0");c.set_html(d)}.bind(this),complete:function(){this.hide_loading(a)}.bind(this)}});b.get();c.setAttribute("data-did_add","1")}},disable:function(b){if(ng.defined(b)){return this.disable_tab(b)}if(this.p.disabled){return this}var a=this.get_num_tabs();for(var c=0;c<a;c++){this.disable_tab(c)}this.get_object().add_class("disabled");if(ng.defined(this.p.sortable)){this.p.sortable.set_can_sort(false)}this.p.disabled=true;this.fire_event("disable");return this},enable:function(b){if(ng.defined(b)){return this.enable_tab(b)}var a=this.get_num_tabs();for(var c=0;c<a;c++){this.enable_tab(c)}if(!this.p.disabled){return this}this.get_object().remove_class("disabled");if(ng.defined(this.p.sortable)){this.p.sortable.set_can_sort(this.p.can_sort)}this.fire_event("enable");this.p.disabled=false;return this},disable_tab:function(a){a=this.correct_num(a);var b=this.button_from_number(a);if(b.is_disabled()){return this}b.disable();var c=b.get_object();if(!ng.defined(b.p.original_can_sort)){b.p.original_can_sort=c.getAttribute("data-can_sort")}c.setAttribute("data-can_sort","0");this.fire_event("disableTab",[a]);return this},enable_tab:function(a){a=this.correct_num(a);var b=this.button_from_number(a);if(!b.is_disabled()){return this}b.enable();var c=b.get_object();if(!ng.defined(b.p.original_can_sort)){c.setAttribute("data-can_sort",b.p.original_can_sort)}else{c.setAttribute("data-can_sort","1")}this.fire_event("enableTab",[a]);return this},is_disabled:function(a){if(ng.defined(a)){a=this.correct_num(a);return this.button_from_number(a).is_disabled()}return this.p.disabled},is_enabled:function(a){return(!this.is_disabled())},set_keep_open:function(a){this.p.keep_open=a;return this},get_keep_open:function(){return this.p.keep_open},set_multi_open:function(a){this.p.multi_open=a;return this},get_multi_open:function(){return this.p.multi_open},set_max_height:function(a){if(ng.type(a)=="string"){a=a.toLowerCase()}this.p.max_height=a;return this},get_max_height:function(){return this.p.max_height},set_can_sort:function(a){if((a)&&(!ng.defined(this.p.sortable))){if(ng.defined(this.p.sortable_options)){var b=this.p.sortable_options}else{var b={}}this.p.sortable=new ng.Sortable(ng.obj_merge(b,{object:this.p.holder,sort_tag:"span",sort_var:"sortid",sort_classname:this.p.css_prefix+"sortable",depth:0,events:{onPreSort:function(){if(!this.p.close_on_sort){return}var c=this.get_open_tabs();var d=[];for(var e=0;e<c.length;e++){this.close_tab(c[e]);d.push(this.tab_from_number(c[e]))}this.p.pre_sort_open=d;this.fire_event("presort")}.bind(this),onMove:function(i,c,h){var e=ng.get(i).get_plugin();var d=this.p.position;var g=i;if((d=="top")||(d=="bottom")){g=ng.get(c.get_plugin().p.content_id);d=h}else{var f=ng.get(c).get_plugin();f.get_object().append_element(f.p.content_id,d)}g.append_element(e.p.content_id,d);this.fire_event("move",[i,c,h])}.bind(this),onAppend:function(h,f){var e=ng.get(h).get_plugin();var g="after";var c=e.get_object();var d=this.p.position;if((d=="top")||(d=="bottom")){c=this.get_object();g="bottom"}else{if(d=="before"){g="before"}}c.append_element(e.p.content_id,g);this.fire_event("append",[h])}.bind(this),drop:function(){if(!this.p.close_on_sort){return}for(var c=0;c<this.p.pre_sort_open.length;c++){this.open_tab(this.p.pre_sort_open[c])}this.p.pre_sort_open=null;this.fire_event("sort")}.bind(this)}}))}if(ng.defined(this.p.sortable)){this.p.sortable.set_can_sort(a)}this.p.can_sort=a;return this},get_can_sort:function(){return this.p.can_sort},get_sortable:function(){return this.p.sortable}});if(ng.defined(ng.UI)){ng.UI.add_to_ini("ng-accordion",function(a){ng.UI.common_ini(a,ng.Accordion)})};